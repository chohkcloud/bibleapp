# Choco API μ ‘μ† ν…μ¤νΈ μ‹¤ν¨ λ²„κ·Έ μμ •

> μ„¤μ • ν™”λ©΄μ—μ„ Choco API μ ‘μ† ν…μ¤νΈ μ‹ ν•­μƒ μ‹¤ν¨ν•λ” λ²„κ·Έ μμ •

---

## λ¬Έμ„ μ •λ³΄

| ν•­λ© | λ‚΄μ© |
|------|------|
| λ¬Έμ„λ… | λ””λ²„κ·Έ_ChocoAPIμ ‘μ†ν…μ¤νΈμμ •_20260129_2201.md |
| μΉ΄ν…κ³ λ¦¬ | λ””λ²„κ·Έ |
| μƒμ„±μΌμ‹ | 2026-01-29 22:01 KST |
| μ‘μ„±μ | Claude Code |
| λ²„μ „ | v1.0.0 |
| μ„μΉ | C:/claude/claudeproject/bibleapp/docs/λ””λ²„κ·Έ_ChocoAPIμ ‘μ†ν…μ¤νΈμμ •_20260129_2201.md |

---

## λ©μ°¨

1. [λ²„κ·Έ κ°μ”](#1-λ²„κ·Έ-κ°μ”)
2. [μ›μΈ λ¶„μ„](#2-μ›μΈ-λ¶„μ„)
3. [μμ • λ‚΄μ©](#3-μμ •-λ‚΄μ©)
4. [μμ • νμΌ λ©λ΅](#4-μμ •-νμΌ-λ©λ΅)
5. [ν…μ¤νΈ μ²΄ν¬λ¦¬μ¤νΈ](#5-ν…μ¤νΈ-μ²΄ν¬λ¦¬μ¤νΈ)

---

## 1. λ²„κ·Έ κ°μ”

| ν•­λ© | λ‚΄μ© |
|------|------|
| μ¦μƒ | μ„¤μ • > Choco AI μ„¤μ • ν™”λ©΄μ—μ„ "μ ‘μ† ν…μ¤νΈ" λ²„νΌ ν΄λ¦­ μ‹ ν•­μƒ μ‹¤ν¨ |
| μ¬ν„ λ°©λ²• | 1. μ„¤μ • > Choco AI μ„¤μ • μ§„μ… β†’ 2. μ„λ²„ URL μ…λ ¥ β†’ 3. "μ ‘μ† ν…μ¤νΈ" λ²„νΌ ν΄λ¦­ β†’ μ‹¤ν¨ |
| μν–¥ λ²”μ„ | Choco AI μ„¤μ • ν™”λ©΄μ μ ‘μ† ν…μ¤νΈ κΈ°λ¥ |
| μ‹¬κ°λ„ | π  λ†’μ (κΈ°λ¥ λ™μ‘ λ¶κ°€) |

---

## 2. μ›μΈ λ¶„μ„

### 2.1 μ—”λ“ν¬μΈνΈ λ¶μΌμΉ

ν”„λ΅μ νΈμ— Choco APIλ¥Ό νΈμ¶ν•λ” μ„λΉ„μ¤κ°€ λ‘ κ° μ΅΄μ¬ν•λ©°, health check μ—”λ“ν¬μΈνΈκ°€ μ„λ΅ λ‹¤λ¦…λ‹λ‹¤:

| μ„λΉ„μ¤ νμΌ | νΈμ¶ μ—”λ“ν¬μΈνΈ | μ©λ„ |
|------------|----------------|------|
| `chocoAIService.ts` (line 660) | `/health` | μ„¤μ • ν™”λ©΄ μ ‘μ† ν…μ¤νΈ |
| `chocoService.ts` (line 87) | `/api/health` | λ‚΄λ¶€ API κ°€μ©μ„± μ²΄ν¬ |

### 2.2 λ°±μ—”λ“ μ„λ²„ μ—”λ“ν¬μΈνΈ κµ¬μ΅°

Choco API λ°±μ—”λ“ μ„λ²„λ” λ¨λ“  μ—”λ“ν¬μΈνΈμ— `/api/` μ ‘λ‘μ‚¬λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤:

```
/api/health     β† health check
/api/generate   β† ν…μ¤νΈ μƒμ„±
/api/chat       β† μ±„ν…
```

### 2.3 λ²„κ·Έ λ°μƒ μ§€μ 

**νμΌ**: `src/services/chocoAI/chocoAIService.ts` (line 660)

```typescript
// λ²„κ·Έ μ½”λ“ - /health (μ΅΄μ¬ν•μ§€ μ•λ” μ—”λ“ν¬μΈνΈ)
const response = await fetchWithTimeout(
  `${config.serverUrl}/health`,  // β† /api/ μ ‘λ‘μ‚¬ λ„λ½
  ...
);
```

μ„λ²„μ— `/health` μ—”λ“ν¬μΈνΈκ°€ μ—†μΌλ―€λ΅ 404 λλ” μ—°κ²° μ‹¤ν¨κ°€ λ°ν™λμ–΄ μ ‘μ† ν…μ¤νΈκ°€ ν•­μƒ μ‹¤ν¨ν•©λ‹λ‹¤.

---

## 3. μμ • λ‚΄μ©

### 3.1 chocoAIService.ts - checkServerHealth ν•¨μ μμ •

**μμ • μ „:**
```typescript
const response = await fetchWithTimeout(
  `${config.serverUrl}/health`,
  ...
);
```

**μμ • ν›„:**
```typescript
const response = await fetchWithTimeout(
  `${config.serverUrl}/api/health`,
  ...
);
```

### 3.2 μμ • ν›„ μ—”λ“ν¬μΈνΈ μΌκ΄€μ„± ν™•μΈ

μμ • ν›„ `chocoAIService.ts`μ λ¨λ“  μ—”λ“ν¬μΈνΈκ°€ `/api/` μ ‘λ‘μ‚¬λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤:

| line | μ—”λ“ν¬μΈνΈ | μ©λ„ |
|------|-----------|------|
| 285 | `/api/generate` | ν…μ¤νΈ μƒμ„± (μ¤νΈλ¦¬λ°) |
| 362 | `/api/generate` | ν…μ¤νΈ μƒμ„± (μΌλ°) |
| 480 | `/api/chat` | μ±„ν… (μ¤νΈλ¦¬λ°) |
| 557 | `/api/chat` | μ±„ν… (μΌλ°) |
| 660 | `/api/health` | μ ‘μ† ν…μ¤νΈ (μμ •λ¨) |

---

## 4. μμ • νμΌ λ©λ΅

| # | νμΌ κ²½λ΅ | λ³€κ²½ μ ν• | λ³€κ²½λ‰ | μ„¤λ… |
|---|----------|----------|--------|------|
| 1 | `src/services/chocoAI/chocoAIService.ts` | μμ • | 1μ¤„ | `/health` β†’ `/api/health` μ—”λ“ν¬μΈνΈ μμ • |

---

## 5. ν…μ¤νΈ μ²΄ν¬λ¦¬μ¤νΈ

- [ ] Choco API μ„λ²„ κ°€λ™ μƒνƒμ—μ„ μ ‘μ† ν…μ¤νΈ μ„±κ³µ ν™•μΈ
- [ ] μ„λ²„ λ―Έκ°€λ™ μƒνƒμ—μ„ μ ‘μ† ν…μ¤νΈ μ‹¤ν¨ λ©”μ‹μ§€ ν™•μΈ
- [ ] μλ»λ URL μ…λ ¥ μ‹ μ μ ν• μ—λ¬ λ©”μ‹μ§€ ν‘μ‹ ν™•μΈ
- [ ] μ ‘μ† ν…μ¤νΈ μ„±κ³µ μ‹ latency ν‘μ‹ ν™•μΈ

---

## κ΄€λ ¨ λ¬Έμ„

- [λ©”λ‰΄μ–Ό_ν¬νΈν¬μ›λ”©μ„¤μ •_20260119_2226.md](./λ©”λ‰΄μ–Ό_ν¬νΈν¬μ›λ”©μ„¤μ •_20260119_2226.md) - Choco API ν¬νΈν¬μ›λ”© μ„¤μ •
- [λ””λ²„κ·Έ_μ„±κ²½λ²„μ „μ „ν™λ―Έν‘μ‹μμ •_20260129_2155.md](./λ””λ²„κ·Έ_μ„±κ²½λ²„μ „μ „ν™λ―Έν‘μ‹μμ •_20260129_2155.md) - λ™μΌ μ„Έμ… λ²„κ·Έ μμ •

---

## λ¬Έμ„ μ—…λ°μ΄νΈ μ΄λ ¥

| λ‚ μ§ | λ²„μ „ | λ³€κ²½ λ‚΄μ© | μ‘μ„±μ |
|------|------|----------|--------|
| 2026-01-29 22:01 | v1.0.0 | μµμ΄ λ¬Έμ„ μƒμ„± | Claude Code |
