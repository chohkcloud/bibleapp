# BUG_LIST - 버그 추적 관리

> BibleApp 프로젝트 버그 추적 및 관리 문서

---

## 문서 정보

| 항목 | 내용 |
|------|------|
| 문서명 | BUG_LIST.md |
| 카테고리 | 메뉴얼 |
| 생성일시 | 2026-01-04 09:25 KST |
| 최종수정 | 2026-01-04 11:11 KST |
| 작성자 | Claude Code |
| 버전 | v1.1.0 |
| 위치 | `C:/claude/claudeproject/bibleapp/docs/BUG_LIST.md` |

---

## 버그 상태 정의

| 상태 | 아이콘 | 설명 |
|------|--------|------|
| 신규 | 🆕 | 새로 등록된 버그 |
| 진행중 | 🔄 | 수정 작업 진행 중 |
| 완료 | ✅ | 수정 완료 |
| 보류 | ⏸️ | 보류 (우선순위 낮음 또는 추가 검토 필요) |
| 재현불가 | ❓ | 재현 불가능 |

## 우선순위 정의

| 우선순위 | 아이콘 | 설명 |
|----------|--------|------|
| 긴급 | 🔴 | 앱 사용 불가, 즉시 수정 필요 |
| 높음 | 🟠 | 주요 기능 장애, 빠른 수정 필요 |
| 보통 | 🟡 | 기능 동작하나 불편함 |
| 낮음 | 🟢 | 사소한 문제, 여유 있을 때 수정 |

---

## 미해결 버그 목록 (Open)

| # | 버그 ID | 우선순위 | 상태 | 제목 | 등록일 |
|---|---------|----------|------|------|--------|
| - | - | - | - | (모두 해결됨) | - |

---

## 버그 상세

### BUG-001: 검색 결과 100건 제한 ✅ 해결됨

| 항목 | 내용 |
|------|------|
| 버그 ID | BUG-001 |
| 우선순위 | 🟠 높음 |
| 상태 | ✅ 완료 |
| 등록일 | 2026-01-04 09:25 KST |
| 수정일 | 2026-01-04 11:11 KST |
| 담당자 | Claude Code |

**증상**
- 검색 시 상위 100건만 표시됨
- 전체 검색 결과를 볼 수 없음

**해결 내용**
- [x] 기본 LIMIT 값을 100 → 500으로 증가
- [x] offset 파라미터 추가 (페이지네이션 지원)
- [x] `bibleService.ts`, `bibleQueries.ts` 수정

**수정된 파일**
- `src/services/bibleService.ts` - search, searchSimple 함수
- `src/services/database/bibleQueries.ts` - searchVerses, searchVersesSimple 함수

---

### BUG-002: 책 이름 검색 불가 ✅ 해결됨

| 항목 | 내용 |
|------|------|
| 버그 ID | BUG-002 |
| 우선순위 | 🟠 높음 |
| 상태 | ✅ 완료 |
| 등록일 | 2026-01-04 09:25 KST |
| 수정일 | 2026-01-04 11:11 KST |
| 담당자 | Claude Code |

**증상**
- '마태복음' 입력 시 검색 결과 없음
- 책 이름으로 검색이 안 됨

**해결 내용**
- [x] `searchByBookName()` 함수 신규 추가
- [x] 검색어가 책 이름/약어와 매칭되면 해당 책의 구절들 반환
- [x] 책 이름 검색 우선 처리 후, 구절 텍스트 검색

**수정된 파일**
- `src/services/database/bibleQueries.ts` - searchByBookName 함수 추가
- `src/services/database/bibleQueries.ts` - searchVerses, searchVersesSimple 함수 수정

---

### BUG-003: 묵상노트 키보드가 입력 영역 가림 ✅ 해결됨

| 항목 | 내용 |
|------|------|
| 버그 ID | BUG-003 |
| 우선순위 | 🟡 보통 |
| 상태 | ✅ 완료 |
| 등록일 | 2026-01-04 09:25 KST |
| 수정일 | 2026-01-04 11:11 KST |
| 담당자 | Claude Code |

**증상**
- 묵상노트 입력 시 키보드가 올라오면 입력 영역이 가려짐
- 입력 중인 내용을 볼 수 없음

**해결 내용**
- [x] 키보드 높이 감지 (Keyboard.addListener)
- [x] 키보드가 올라오면 자동으로 ScrollView를 아래로 스크롤
- [x] 하단 여백을 키보드 높이만큼 동적으로 조정
- [x] Android에서도 KeyboardAvoidingView behavior="height" 적용
- [x] 입력 필드 포커스 시 자동 스크롤

**수정된 파일**
- `src/screens/memo/MemoEditScreen.tsx` - 키보드 대응 로직 추가

---

### BUG-004: 다국어 성경 다운로드 실패 ✅ 해결됨

| 항목 | 내용 |
|------|------|
| 버그 ID | BUG-004 |
| 우선순위 | 🔴 긴급 |
| 상태 | ✅ 완료 |
| 등록일 | 2026-01-04 09:25 KST |
| 수정일 | 2026-01-04 11:11 KST |
| 담당자 | Claude Code |

**증상**
- 다국어 성경 버전 다운로드가 되지 않음
- 다운로드 시도 시 실패 또는 에러 발생

**원인 분석**
1. API URL 문제: `cdn.jsdelivr.net`이 403 Forbidden 반환
2. API 구조 불일치: 코드는 `/books/genesis.json` 요청, 실제 API는 `/books/genesis/chapters/1.json` 구조
3. 다국어 버전 책 이름 불일치: 스페인어는 `génesis`, 독일어는 `1.chonik` 등 각 언어별 다른 이름 사용

**해결 내용**
- [x] API URL 변경: `cdn.jsdelivr.net` → `raw.githubusercontent.com`
- [x] 다운로드 방식 변경: 책 전체 다운로드 → 장(chapter)별 순차 다운로드
- [x] 지원 버전 정리: 영어 버전 7개만 지원 (KJV, ASV, WEB, BSB, LSV, DRA, GNV)
- [x] 비영어 버전(스페인어, 독일어, 중국어)은 책 이름 매핑 문제로 제거

**수정된 파일**
- `src/services/bibleApiService.ts` - API URL 변경, downloadBook 함수 재구현
- `src/data/versions/available.json` - 지원 버전 목록 정리 (영어 7개 + 한국어 1개)

---

## 해결된 버그 목록 (Closed)

| # | 버그 ID | 우선순위 | 제목 | 등록일 | 해결일 |
|---|---------|----------|------|--------|--------|
| 1 | BUG-004 | 🔴 긴급 | 다국어 성경 다운로드 실패 | 20260104 | 20260104_1111 |
| 2 | BUG-001 | 🟠 높음 | 검색 결과 100건 제한 | 20260104 | 20260104_1111 |
| 3 | BUG-002 | 🟠 높음 | 책 이름 검색 불가 | 20260104 | 20260104_1111 |
| 4 | BUG-003 | 🟡 보통 | 묵상노트 키보드가 입력 영역 가림 | 20260104 | 20260104_1111 |

---

## 버그 통계

| 구분 | 개수 |
|------|------|
| 전체 버그 | 4 |
| 미해결 (Open) | 0 |
| 해결됨 (Closed) | 4 |
| 긴급 (🔴) | 0 |
| 높음 (🟠) | 0 |
| 보통 (🟡) | 0 |
| 낮음 (🟢) | 0 |

---

## 버그 등록 가이드

### 새 버그 등록 시 필수 항목

```markdown
### BUG-XXX: [버그 제목]

| 항목 | 내용 |
|------|------|
| 버그 ID | BUG-XXX |
| 우선순위 | 🔴/🟠/🟡/🟢 |
| 상태 | 🆕 신규 |
| 등록일 | YYYY-MM-DD HH:MM KST |
| 수정일 | - |
| 담당자 | - |

**증상**
- 어떤 문제가 발생하는가?

**재현 방법**
1. 단계별 재현 방법

**예상 원인**
- 추정되는 원인

**수정 방안**
- [ ] 해결 방법

**관련 파일**
- 관련 소스 파일 목록
```

---

## 문서 업데이트 이력

| 날짜 | 버전 | 변경 내용 | 작성자 |
|------|------|----------|--------|
| 2026-01-04 09:25 | v1.0.0 | 최초 문서 생성, 버그 4건 등록 | Claude Code |
| 2026-01-04 11:11 | v1.1.0 | 버그 4건 모두 해결 완료 (BUG-001~004) | Claude Code |
