# 🤖 Claude Code 작업 규칙 (CLAUDE_CODE_RULES.md)

> **Claude Code가 이 프로젝트에서 작업할 때 반드시 따라야 하는 규칙**
>
> ⚠️ 이 문서는 모든 작업의 최우선 규칙입니다.

---

## 📋 필수 규칙 목록

| # | 규칙 | 중요도 | 비고 |
|---|------|--------|------|
| 0 | **작업 시작 시 반드시 한국시간(KST) 확인** | ⭐⭐⭐ | 시간 버그 방지 |
| 1 | 시간은 반드시 한국시간(KST)을 사용한다 | ⭐⭐⭐ | UTC+9 |
| 2 | 작업 완료 후 반드시 문서화한다 | ⭐⭐⭐ | NAMING_CONVENTION.md 참고 |
| 3 | **매 작업 시 WBS 확인 및 업데이트** | ⭐⭐⭐ | bibleapp_WBS.md |

---

## 📌 규칙 0: 작업 시작 시 한국시간 확인 ⭐ 최우선

### 정의
- **모든 작업 시작 전** 반드시 현재 한국시간(KST)을 확인한다
- 시간 확인 없이 작업을 시작하면 안 된다

### 한국시간 확인 명령어

```bash
# Windows PowerShell (권장)
powershell -Command "[System.TimeZoneInfo]::ConvertTimeBySystemTimeZoneId((Get-Date), 'Korea Standard Time').ToString('yyyyMMdd_HHmm')"

# 결과 예시: 20260101_0930
```

```bash
# Linux/Mac
TZ='Asia/Seoul' date '+%Y%m%d_%H%M'
```

### 작업 시작 체크리스트

```
┌─────────────────────────────────────────────────────────────┐
│              ⭐ 작업 시작 전 필수 확인 (규칙 0)              │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  □ Step 1: 한국시간(KST) 확인 명령어 실행                   │
│            → 현재 시간 기록: ____년 __월 __일 __:__ KST     │
│                                                             │
│  □ Step 2: bibleapp_WBS.md 확인                             │
│            → 현재 진행 단계 파악                            │
│            → 다음 작업 확인                                 │
│                                                             │
│  □ Step 3: 작업 시작                                        │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 주의사항
- UTC 시간이 아닌 **KST(UTC+9)** 사용
- 시간 확인 후 해당 시간을 문서, 파일명 등에 일관되게 사용
- 시간 미확인으로 인한 오류 발생 시 즉시 수정

---

## 📌 규칙 1: 한국 표준시(KST) 사용

### 정의
- 모든 시간 기록은 **한국 표준시 (KST, UTC+9)**를 사용한다
- 날짜/시간 형식: `YYYYMMDD_HHMM` (24시간제)

### 적용 범위
- 문서 생성 시간
- 로그 기록
- 파일명의 타임스탬프
- 코드 내 주석의 날짜
- 모든 시간 관련 기록

### 시간 변환 방법

```javascript
// JavaScript/TypeScript
function getKSTTime() {
  const now = new Date();
  const kst = new Date(now.getTime() + (9 * 60 * 60 * 1000));
  
  const year = kst.getUTCFullYear();
  const month = String(kst.getUTCMonth() + 1).padStart(2, '0');
  const day = String(kst.getUTCDate()).padStart(2, '0');
  const hour = String(kst.getUTCHours()).padStart(2, '0');
  const minute = String(kst.getUTCMinutes()).padStart(2, '0');
  
  return {
    date: `${year}${month}${day}`,      // YYYYMMDD
    time: `${hour}${minute}`,            // HHMM
    full: `${year}${month}${day}_${hour}${minute}`,  // YYYYMMDD_HHMM
    iso: `${year}-${month}-${day} ${hour}:${minute} KST`
  };
}
```

```bash
# Bash/Shell
TZ='Asia/Seoul' date '+%Y%m%d_%H%M'
```

### UTC → KST 변환표
| UTC | KST (한국) |
|-----|-----------|
| 00:00 | 09:00 |
| 03:00 | 12:00 |
| 06:00 | 15:00 |
| 09:00 | 18:00 |
| 12:00 | 21:00 |
| 15:00 | 00:00 (다음날) |
| 18:00 | 03:00 (다음날) |
| 21:00 | 06:00 (다음날) |

---

## 📌 규칙 2: 작업 완료 후 문서화

### 정의
- 모든 작업이 완료되면 **반드시** 문서를 작성한다
- 문서 작성 시 `NAMING_CONVENTION.md`를 참고한다

### 문서화 절차

```
┌─────────────────────────────────────────────────────────────┐
│                    작업 완료 후 문서화 절차                  │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  Step 1: 작업 완료 확인                                     │
│          ↓                                                  │
│  Step 2: NAMING_CONVENTION.md 확인                          │
│          ↓                                                  │
│  Step 3: 카테고리 결정                                      │
│          ├── 신규생성: 새 기능/설계 작업                    │
│          ├── 디버그: 버그 수정 작업                         │
│          ├── 메뉴얼: 가이드 작성 작업                       │
│          ├── 수정: 기존 내용 변경 작업                      │
│          └── 분석: 분석/리서치 작업                         │
│          ↓                                                  │
│  Step 4: 문서명 생성                                        │
│          [카테고리]_[파일명]_[YYYYMMDD]_[HHMM].md           │
│          ↓                                                  │
│  Step 5: 문서 작성                                          │
│          - 헤더 템플릿 사용                                 │
│          - 작업 내용 상세 기록                              │
│          ↓                                                  │
│  Step 6: docs_index.md에 등록 ⚠️ 필수                       │
│          ↓                                                  │
│  Step 7: 완료 보고                                          │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 문서 헤더 템플릿

```markdown
# [문서 제목]

> [문서 한 줄 설명]

---

## 문서 정보

| 항목 | 내용 |
|------|------|
| 문서명 | [전체 파일명] |
| 카테고리 | [신규생성/디버그/메뉴얼/수정/분석] |
| 생성일시 | [YYYY-MM-DD HH:MM KST] |
| 작성자 | Claude Code |
| 버전 | v1.0.0 |
| 위치 | C:/claude/claudeproject/bibleapp/docs/[파일명] |

---

## 작업 내용

[상세 내용 기술]

---

## 관련 문서

- [관련 문서 링크]
```

### 문서화 예시

**작업**: 로그인 화면 구현 완료

**문서 생성**:
```
파일명: 신규생성_로그인화면구현_20260101_1430.md
위치: C:/claude/claudeproject/bibleapp/docs/
```

**docs_index.md 등록**:
```markdown
| 8 | 신규생성_로그인화면구현_20260101_1430.md | 신규생성 | 로그인 화면 컴포넌트 구현 | 20260101_1430 | `C:/claude/claudeproject/bibleapp/docs/신규생성_로그인화면구현_20260101_1430.md` |
```

---

## 📌 규칙 3: WBS 확인 및 업데이트

### 정의
- **모든 작업 시작 전** `bibleapp_WBS.md`를 확인하여 현재 진행 상태 파악
- **모든 작업 완료 후** `bibleapp_WBS.md`를 업데이트하여 진행 상태 반영

### WBS 파일 위치
```
C:/claude/claudeproject/bibleapp/docs/bibleapp_WBS.md
```

### 작업 시작 시 확인 사항

| 확인 항목 | 설명 |
|----------|------|
| 현재 단계 | 몇 단계까지 완료되었는지 확인 |
| 다음 작업 | 다음에 수행할 작업 확인 |
| 이슈 | 현재 이슈나 보류 사항 확인 |

### 작업 완료 시 업데이트 사항

| 업데이트 항목 | 설명 |
|--------------|------|
| 세부 작업 상태 | ⏳ 대기 → 🔄 진행중 → ✅ 완료 |
| 완료일시 | YYYYMMDD_HHMM (KST) |
| 진척률 | 단계별, 전체 진척률 갱신 |
| 작업 기록 | 작업 기록 테이블에 새 행 추가 |
| 다음 작업 | 다음 작업 정보 갱신 |

### WBS 업데이트 절차

```
┌─────────────────────────────────────────────────────────────┐
│                    WBS 업데이트 절차                         │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  Step 1: 작업 완료 확인                                     │
│          ↓                                                  │
│  Step 2: bibleapp_WBS.md 열기                               │
│          ↓                                                  │
│  Step 3: 해당 단계의 세부 작업 상태 업데이트                │
│          - 상태: ✅ 완료                                    │
│          - 완료일시: 현재 KST 시간                          │
│          ↓                                                  │
│  Step 4: 진척률 갱신                                        │
│          - 단계별 진척률                                    │
│          - 전체 진척률                                      │
│          ↓                                                  │
│  Step 5: 작업 기록 테이블에 추가                            │
│          ↓                                                  │
│  Step 6: 다음 작업 정보 갱신                                │
│          ↓                                                  │
│  Step 7: 최종수정 일시 갱신                                 │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 상태 범례

| 상태 | 아이콘 | 설명 |
|------|--------|------|
| 완료 | ✅ | 작업 완료 |
| 진행중 | 🔄 | 현재 작업 중 |
| 대기 | ⏳ | 아직 시작 안 함 |
| 보류 | ⚠️ | 이슈로 인해 보류 |
| 취소 | ❌ | 작업 취소됨 |

---

## ⚠️ 위반 시 처리

```
┌─────────────────────────────────────────────────────────────┐
│                     규칙 위반 체크리스트                     │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  □ 시간 미확인 → 즉시 KST 시간 확인 후 작업 재개            │
│  □ UTC 시간 사용 → KST로 수정 필요                          │
│  □ 문서화 누락 → 즉시 문서 작성                             │
│  □ docs_index.md 미등록 → 즉시 등록                         │
│  □ 명명 규칙 미준수 → 파일명 수정                           │
│  □ WBS 미업데이트 → 즉시 bibleapp_WBS.md 업데이트           │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 📂 관련 문서

| 문서 | 용도 | 위치 |
|------|------|------|
| bibleapp_WBS.md | 작업 일정 및 진척 관리 | `C:/claude/claudeproject/bibleapp/docs/bibleapp_WBS.md` |
| NAMING_CONVENTION.md | 문서 명명 규칙 | `C:/claude/claudeproject/bibleapp/docs/NAMING_CONVENTION.md` |
| docs_index.md | 문서 목록 관리 | `C:/claude/claudeproject/bibleapp/docs/docs_index.md` |

---

## 📝 Quick Reference

```
┌─────────────────────────────────────────────────────────────┐
│                     Claude Code 작업 규칙                    │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ⭐ 규칙 0: 작업 시작 시 반드시 한국시간(KST) 확인          │
│            → PowerShell 명령어로 시간 확인                  │
│            → bibleapp_WBS.md 확인                           │
│                                                             │
│  ✅ 규칙 1: 시간은 반드시 한국시간(KST, UTC+9)              │
│                                                             │
│  ✅ 규칙 2: 작업 완료 후 반드시 문서화                      │
│            → NAMING_CONVENTION.md 참고                      │
│            → docs_index.md에 등록                           │
│                                                             │
│  ✅ 규칙 3: 매 작업 시 WBS 확인 및 업데이트                 │
│            → bibleapp_WBS.md 진행 상태 갱신                 │
│                                                             │
│  📁 문서 저장 경로:                                         │
│     C:/claude/claudeproject/bibleapp/docs/                  │
│                                                             │
│  📄 문서명 형식:                                            │
│     [카테고리]_[파일명]_[YYYYMMDD]_[HHMM].md                │
│                                                             │
│  ⏰ 한국시간 확인 명령어 (Windows):                         │
│     powershell -Command "[System.TimeZoneInfo]::            │
│     ConvertTimeBySystemTimeZoneId((Get-Date),               │
│     'Korea Standard Time').ToString('yyyyMMdd_HHmm')"       │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 문서 정보

| 항목 | 내용 |
|------|------|
| 문서명 | CLAUDE_CODE_RULES.md |
| 카테고리 | 메뉴얼 |
| 생성일시 | 2026-01-01 09:30 KST |
| 최종수정 | 2026-01-01 09:28 KST |
| 작성자 | Claude |
| 버전 | v1.1.0 |
| 위치 | `C:/claude/claudeproject/bibleapp/docs/CLAUDE_CODE_RULES.md` |

---

## 문서 업데이트 이력

| 날짜 | 버전 | 변경 내용 | 작성자 |
|------|------|----------|--------|
| 2026-01-01 09:30 | v1.0.0 | 최초 문서 생성 (규칙 1, 2) | Claude |
| 2026-01-01 09:28 | v1.1.0 | 규칙 0 추가 (시간 확인), 규칙 3 추가 (WBS 관리) | Claude |
