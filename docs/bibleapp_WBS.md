# BibleApp WBS (Work Breakdown Structure)

> 성경앱 프로젝트 작업 분해 구조 및 진척 관리

---

## 문서 정보

| 항목 | 내용 |
|------|------|
| 문서명 | bibleapp_WBS.md |
| 카테고리 | 메뉴얼 |
| 생성일시 | 2026-01-01 09:28 KST |
| 최종수정 | 2026-01-31 16:00 KST |
| 작성자 | Claude |
| 버전 | v4.1.0 |

---

## 1. 프로젝트 개요

| 항목 | 내용 |
|------|------|
| 프로젝트명 | BibleApp (성경앱) |
| 총 단계 | 19단계 |
| 현재 단계 | 19단계 완료 (AI 분석 결과 영구 저장) |
| 전체 진척률 | 100% |

---

## 2. 작업 단계 요약

| 단계 | 작업명 | 상태 | 진척률 |
|------|--------|------|--------|
| 1단계 | 프로젝트 생성 및 의존성 설치 | 완료 | 100% |
| 2단계 | 폴더 구조 및 핵심 파일 생성 | 완료 | 100% |
| 3단계 | DatabaseService 구현 | 완료 | 100% |
| 4단계 | 서비스 레이어 구현 | 완료 | 100% |
| 5단계 | 화면 컴포넌트 고도화 | 완료 | 100% |
| 6단계 | 전체 통합 및 검증 | 완료 | 100% |
| 7단계 | 웹 호환성 작업 | 보류 | 40% |
| 8단계 | 안드로이드 에뮬레이터 실행 | 완료 | 100% |
| 9단계 | 전체 성경 데이터 통합 | 완료 | 100% |
| 10단계 | GitHub 저장소 연동 | 완료 | 100% |
| 11단계 | 버그 수정 (4건) | 완료 | 100% |
| 12단계 | 기능 개선 (주석, 검색 필터) | 완료 | 100% |
| 13단계 | UX 개선 (텍스트 선택) | 완료 | 100% |
| 14단계 | 범위 선택 하이라이트 기능 | 진행중 | 80% |
| 15단계 | 마지막 읽은 위치 저장 | 완료 | 100% |
| 16단계 | 장 선택 화면 책 변경 기능 | 완료 | 100% |
| 17단계 | 포트포워딩 설정 | 완료 | 100% |
| 18단계 | 메모 화면 UX 개선 | 완료 | 100% |
| 19단계 | AI 분석 결과 영구 저장 + 히스토리 | 완료 | 100% |

---

## 3. 7단계: 웹 호환성 작업 (보류)

| # | 세부 작업 | 상태 | 완료일시 |
|---|----------|------|----------|
| 7.1 | database/index.ts 웹 호환성 수정 | 완료 | 20260101_2300 |
| 7.2 | crypto.ts 웹 호환성 수정 | 완료 | 20260101_2305 |
| 7.3 | authService.ts 웹 호환성 수정 | 완료 | 20260101_2310 |
| 7.4 | shareService.ts 웹 호환성 수정 | 완료 | 20260101_2315 |
| 7.5 | bibleService.ts 웹 호환성 수정 | 대기 | - |
| 7.6 | memoService.ts 웹 호환성 수정 | 대기 | - |
| 7.7 | analyticsService.ts 웹 호환성 수정 | 대기 | - |
| 7.8 | 화면 컴포넌트 웹 호환성 확인 | 대기 | - |
| 7.9 | 웹 환경 테스트 | 대기 | - |
| 7.10 | 작업 문서화 | 완료 | 20260101_2323 |

---

## 4. 8단계: 안드로이드 에뮬레이터 실행 (완료)

| # | 세부 작업 | 상태 | 완료일시 |
|---|----------|------|----------|
| 8.1 | Android Studio 설치 | 완료 | 20260103_1020 |
| 8.2 | Android SDK 환경 확인 | 완료 | 20260103_1022 |
| 8.3 | 에뮬레이터 확인 (Pixel_6) | 완료 | 20260103_1024 |
| 8.4 | expo-file-system deprecated API 수정 | 완료 | 20260103_1028 |
| 8.5 | ADB 포트 포워딩 설정 | 완료 | 20260103_1030 |
| 8.6 | 앱 에뮬레이터 실행 성공 | 완료 | 20260103_1032 |
| 8.7 | 작업 문서화 | 완료 | 20260103_1034 |
| 8.8 | gap 스타일 호환성 수정 | 완료 | 20260103_1150 |
| 8.9 | 디버그 문서화 | 완료 | 20260103_1150 |
| 8.10 | 데이터베이스 테이블 누락 수정 | 완료 | 20260103_1210 |
| 8.11 | 디버그 문서화 (테이블 수정) | 완료 | 20260103_1210 |
| 8.12 | ReadingScreen 헤더 상태바 간섭 수정 | 완료 | 20260103_1542 |
| 8.13 | 디버그 문서화 (헤더 수정) | 완료 | 20260103_1542 |
| 8.14 | CustomHeader 공통 컴포넌트 생성 | 완료 | 20260103_1605 |
| 8.15 | 전체 화면 커스텀 헤더 적용 (16개 화면) | 완료 | 20260103_1605 |
| 8.16 | 수정 문서화 (커스텀 헤더 전체 적용) | 완료 | 20260103_1605 |
| 8.17 | 다중 성경 버전 지원 기능 추가 | 완료 | 20260103_1700 |
| 8.18 | 작업 문서화 (다중 버전 지원) | 완료 | 20260103_1700 |
| 8.19 | API 응답 형식 파싱 버그 수정 | 완료 | 20260103_1830 |
| 8.20 | 지원 버전 확장 (11개 버전, 5개 언어) | 완료 | 20260103_1830 |
| 8.21 | APK 빌드 및 실제 폰 설치 | 완료 | 20260103_1918 |
| 8.22 | APK 빌드 가이드 문서화 | 완료 | 20260103_1918 |

---

## 5. 9단계: 전체 성경 데이터 통합 (완료)

| # | 세부 작업 | 상태 | 완료일시 |
|---|----------|------|----------|
| 9.1 | 성경 66권 메타데이터 생성 (bibleMetadata.ts) | 완료 | 20260103_1330 |
| 9.2 | 개역한글 성경 파일 확보 (foxcg.com) | 완료 | 20260103_1335 |
| 9.3 | EUC-KR 인코딩 파싱 스크립트 작성 (iconv-lite) | 완료 | 20260103_1340 |
| 9.4 | 책 코드 매핑 수정 (Exo, Mat 등 3글자 코드) | 완료 | 20260103_1345 |
| 9.5 | JSON 파일 생성 (ot_part1, ot_part2, nt, stats) | 완료 | 20260103_1350 |
| 9.6 | tsconfig.json JSON 모듈 지원 추가 | 완료 | 20260103_1352 |
| 9.7 | database/index.ts JSON import 및 로더 수정 | 완료 | 20260103_1355 |
| 9.8 | FORCE_DB_RECREATE=true로 DB 재생성 | 완료 | 20260103_1357 |
| 9.9 | 31,102절 데이터 로드 확인 | 완료 | 20260103_1358 |
| 9.10 | FORCE_DB_RECREATE=false로 복구 | 완료 | 20260103_1359 |
| 9.11 | 작업 문서화 | 완료 | 20260103_1400 |

### 9단계 성과
- **총 구절 수**: 31,102절 (구약 23,145절 + 신약 7,957절)
- **총 권수**: 66권 (구약 39권 + 신약 27권)
- **JSON 파일 구조**:
  - `ot_part1.json`: 16,400절 (창세기-시편)
  - `ot_part2.json`: 6,745절 (잠언-말라기)
  - `nt.json`: 7,957절 (신약 전체)
  - `stats.json`: 통계 정보

---

## 6. 10단계: GitHub 저장소 연동 (완료)

| # | 세부 작업 | 상태 | 완료일시 |
|---|----------|------|----------|
| 10.1 | Git 저장소 상태 확인 | 완료 | 20260104_0910 |
| 10.2 | .gitignore 수정 (nul, dist-test 추가) | 완료 | 20260104_0912 |
| 10.3 | 파일 스테이징 (96개 파일) | 완료 | 20260104_0914 |
| 10.4 | Git 사용자 설정 | 완료 | 20260104_0915 |
| 10.5 | 초기 커밋 생성 | 완료 | 20260104_0916 |
| 10.6 | GitHub 원격 저장소 연결 | 완료 | 20260104_0917 |
| 10.7 | main 브랜치 푸시 | 완료 | 20260104_0917 |
| 10.8 | 작업 문서화 | 완료 | 20260104_0917 |

### 10단계 성과
- **저장소 URL**: https://github.com/chohkcloud/bibleapp
- **브랜치**: main
- **커밋 파일**: 96개 파일, 24,781줄
- **커밋 해시**: 3e75f56

---

## 7. 11단계: 버그 수정 (완료)

> 상세 내용은 [BUG_LIST.md](./BUG_LIST.md) 참조

| # | 세부 작업 | 버그 ID | 우선순위 | 상태 | 완료일시 |
|---|----------|---------|----------|------|----------|
| 11.1 | 검색 결과 100건 제한 수정 | BUG-001 | 🟠 높음 | ✅ 완료 | 20260104_1111 |
| 11.2 | 책 이름 검색 불가 수정 | BUG-002 | 🟠 높음 | ✅ 완료 | 20260104_1111 |
| 11.3 | 묵상노트 키보드 UI 개선 | BUG-003 | 🟡 보통 | ✅ 완료 | 20260104_1111 |
| 11.4 | 다국어 성경 다운로드 수정 | BUG-004 | 🔴 긴급 | ✅ 완료 | 20260104_1111 |
| 11.5 | 버그 수정 테스트 | - | - | ✅ 완료 | 20260104_1111 |
| 11.6 | 작업 문서화 | - | - | ✅ 완료 | 20260104_1111 |

### 11단계 성과
- **BUG-004**: API URL 변경 및 다운로드 방식 개선 (영어 7개 버전 지원)
- **BUG-001**: 검색 결과 제한 100 → 500건, 페이지네이션 지원
- **BUG-002**: 책 이름/약어 검색 기능 추가
- **BUG-003**: 키보드 높이 감지 및 자동 스크롤 구현

---

## 8. 12단계: 기능 개선 (완료)

| # | 세부 작업 | 상태 | 완료일시 |
|---|----------|------|----------|
| 12.1 | 구절별 인라인 주석 표시 기능 추가 | ✅ 완료 | 20260104_1230 |
| 12.2 | 모달에서 바로 주석 입력/수정/삭제 UI 추가 | ✅ 완료 | 20260104_1235 |
| 12.3 | 주석 표시 토글 버튼 추가 (헤더) | ✅ 완료 | 20260104_1240 |
| 12.4 | 검색 책 필터 기능 추가 | ✅ 완료 | 20260104_1250 |
| 12.5 | 책 선택 모달 UI 구현 (구약/신약 분류) | ✅ 완료 | 20260104_1255 |
| 12.6 | Git 커밋 및 푸시 | ✅ 완료 | 20260104_1302 |

### 12단계 성과
- **구절별 주석 기능**: 구절 터치 시 바로 주석 입력/수정/삭제 가능
- **인라인 주석 표시**: 구절 아래에 💬 아이콘과 함께 주석 내용 표시
- **주석 토글**: 헤더의 📝 버튼으로 주석 표시/숨기기
- **검색 책 필터**: 특정 책(예: 마가복음)에서만 검색 가능
- **책 선택 모달**: 구약 39권, 신약 27권 분류된 UI로 책 선택
- **커밋 해시**: 7a7385d

---

## 9. 13단계: UX 개선 (완료)

| # | 세부 작업 | 상태 | 완료일시 |
|---|----------|------|----------|
| 13.1 | 전체 구절을 하나의 selectable Text로 통합 | ✅ 완료 | 20260106_1200 |
| 13.2 | 여러 구절에 걸쳐 텍스트 드래그 선택 가능 | ✅ 완료 | 20260106_1205 |
| 13.3 | 구절 번호 터치로 액션 모달 열기 유지 | ✅ 완료 | 20260106_1205 |
| 13.4 | 하이라이트/북마크/메모 아이콘 인라인 표시 | ✅ 완료 | 20260106_1208 |
| 13.5 | 주석 섹션 하단 통합 표시 | ✅ 완료 | 20260106_1208 |
| 13.6 | Git 커밋 및 푸시 | ✅ 완료 | 20260106_1211 |

### 13단계 성과
- **여러 구절 선택**: 전체 구절을 하나의 Text로 통합하여 여러 구절에 걸쳐 드래그 선택 가능
- **텍스트 복사**: 선택한 텍스트를 복사하여 다른 앱에서 활용 가능
- **액션 모달 유지**: 구절 번호 터치 또는 텍스트 길게 누르기로 하이라이트/북마크/메모 기능 사용
- **인라인 아이콘**: 🔖(북마크), 📝(메모) 아이콘이 구절 번호 옆에 표시
- **주석 섹션**: 주석이 있는 구절은 본문 하단에 💬 주석 섹션으로 통합 표시
- **커밋 해시**: 78bc061

---

## 10. 14단계: 범위 선택 하이라이트 기능 (진행중)

| # | 세부 작업 | 상태 | 완료일시 |
|---|----------|------|----------|
| 14.1 | 범위 선택 모드 토글 버튼 추가 (✂️) | ✅ 완료 | 20260112 |
| 14.2 | 시작절-끝절 선택 로직 구현 | ✅ 완료 | 20260112 |
| 14.3 | 선택된 범위 시각적 하이라이트 표시 | ✅ 완료 | 20260112 |
| 14.4 | 범위 선택 안내 바 UI 추가 | ✅ 완료 | 20260112 |
| 14.5 | 하단 액션 바 (색상 선택) 추가 | ✅ 완료 | 20260112 |
| 14.6 | 범위 일괄 하이라이트 적용 함수 | ✅ 완료 | 20260112 |
| 14.7 | 범위 하이라이트 제거 함수 | ✅ 완료 | 20260112 |
| 14.8 | 터치 이벤트 충돌 해결 (Pressable 적용) | ✅ 완료 | 20260112 |
| 14.9 | 테스트 및 버그 수정 | 🔄 진행중 | - |
| 14.10 | 작업 문서화 | 대기 | - |

### 14단계 기능 설명

**범위 선택 모드 사용법:**
1. 헤더의 **✂️ 버튼** 터치 → 범위 선택 모드 활성화
2. **시작 절 터치** → "3절 선택됨 - 끝 절을 선택하세요"
3. **끝 절 터치** → "3-7절 선택됨 (5절)"
4. **하단 액션 바**에서 색상 선택 → 선택된 범위에 일괄 하이라이트 적용
5. **취소** 버튼으로 선택 해제

**UI 구성:**
```
┌─────────────────────────────────────┐
│  ← 요한복음 3장    ✂️  📝  목록     │  ← ✂️ 범위 선택 버튼
├─────────────────────────────────────┤
│  📍 3절 선택됨 - 끝 절을 선택하세요   취소│  ← 안내 바
├─────────────────────────────────────┤
│  ✓ 3  구절 텍스트...                │  ← 선택된 범위
│  ✓ 4  구절 텍스트...                │     (파란색 배경)
│  ✓ 5  구절 텍스트...                │
├─────────────────────────────────────┤
│  5절 선택됨    🟡 🟢 🔵 🟣 ❌       │  ← 하단 액션 바
└─────────────────────────────────────┘
```

**구현된 함수:**
- `toggleRangeSelectMode()`: 범위 선택 모드 토글
- `handleRangeSelect(verse)`: 시작/끝 절 선택 처리
- `handleRangeHighlight(color)`: 선택 범위 일괄 하이라이트
- `handleRangeRemoveHighlight()`: 선택 범위 하이라이트 제거
- `isVerseInRange(verseNum)`: 범위 내 포함 여부 확인
- `cancelRangeSelect()`: 선택 취소

---

## 11. 15단계: 마지막 읽은 위치 저장 (완료)

| # | 세부 작업 | 상태 | 완료일시 |
|---|----------|------|----------|
| 15.1 | bibleStore.ts persist 미들웨어 추가 | ✅ 완료 | 20260119_0728 |
| 15.2 | AsyncStorage 저장 설정 | ✅ 완료 | 20260119_0728 |
| 15.3 | lastReadAt 필드 추가 | ✅ 완료 | 20260119_0728 |
| 15.4 | 작업 문서화 | ✅ 완료 | 20260119_0728 |

### 15단계 성과
- **기능**: 앱 재시작 시에도 마지막으로 읽던 성경 위치(책, 장) 유지
- **기술**: Zustand persist 미들웨어 + AsyncStorage
- **저장 키**: bible-app-reading-position
- **수정 파일**: src/store/bibleStore.ts



## 12. 16단계: 장 선택 화면 책 변경 기능 (완료)

| # | 세부 작업 | 상태 | 완료일시 |
|---|----------|------|----------|
| 16.1 | Ionicons import 추가 | ✅ 완료 | 20260119_0800 |
| 16.2 | handleBookChange 함수 추가 | ✅ 완료 | 20260119_0800 |
| 16.3 | 책 정보 영역 TouchableOpacity 래핑 | ✅ 완료 | 20260119_0800 |
| 16.4 | "책 변경 >" 버튼 및 아이콘 추가 | ✅ 완료 | 20260119_0800 |
| 16.5 | 새로운 스타일 추가 (bookInfoRow, changeBookButton) | ✅ 완료 | 20260119_0800 |
| 16.6 | 작업 문서화 | ✅ 완료 | 20260119_0800 |

### 16단계 성과
- **기능**: 장 선택 화면에서 바로 책 선택 화면으로 이동 가능
- **UI**: 책 이름 옆에 "책 변경 >" 버튼과 화살표 아이콘 표시
- **수정 파일**: src/screens/bible/ChapterSelectScreen.tsx

## 13. 17단계: 포트포워딩 설정 (완료)

| # | 세부 작업 | 상태 | 완료일시 |
|---|----------|------|----------|
| 17.1 | Choco API 포트 변경 (8080 → 9090) | ✅ 완료 | 20260119_2145 |
| 17.2 | Windows 방화벽 9090 포트 허용 설정 | ✅ 완료 | 20260119_2150 |
| 17.3 | LG U+ GAPD-7500 공유기 포트포워딩 설정 | ✅ 완료 | 20260119_2155 |
| 17.4 | BibleApp chocoAIConfig.ts URL 변경 | ✅ 완료 | 20260119_2200 |
| 17.5 | APK 빌드 (release) | ✅ 완료 | 20260119_2215 |
| 17.6 | EAS Build 업로드 | ✅ 완료 | 20260119_2220 |
| 17.7 | 작업 문서화 | ✅ 완료 | 20260119_2226 |

### 17단계 성과
- **포트 변경**: Choco API 8080 → 9090
- **공인 IP**: 117.111.123.99
- **내부 IP**: 192.168.219.104
- **BibleApp URL 설정**:
  - development: http://192.168.219.104:9090
  - production: http://117.111.123.99:9090
- **EAS Build URL**: https://expo.dev/accounts/chohk/projects/bible-app/builds/f42fd79f-a2ac-4578-826e-6bda933ab5c1
- **문서**: 메뉴얼_포트포워딩설정_20260119_2226.md

---

## 14. 18단계: 메모 화면 UX 개선 (완료)

| # | 세부 작업 | 상태 | 완료일시 |
|---|----------|------|----------|
| 18.1 | 키보드 출현 시 화면 스크롤 문제 해결 | ✅ 완료 | 20260125_1530 |
| 18.2 | MemoEditScreen 절대 위치 레이아웃 적용 | ✅ 완료 | 20260125_1530 |
| 18.3 | MemoEditScreen 헤더 추가 (뒤로가기, 저장) | ✅ 완료 | 20260125_1530 |
| 18.4 | MemoDetailScreen 헤더 추가 (수정/삭제 버튼) | ✅ 완료 | 20260125_1530 |
| 18.5 | 성경구절 더보기/접기 기능 추가 | ✅ 완료 | 20260125_1530 |
| 18.6 | 키보드 외 영역 터치 시 키보드 닫기 | ✅ 완료 | 20260125_1530 |
| 18.7 | 태그 입력창 제거 | ✅ 완료 | 20260125_1530 |
| 18.8 | MemoStack initialRouteName 설정 | ✅ 완료 | 20260125_1530 |
| 18.9 | app.json softwareKeyboardLayoutMode 설정 | ✅ 완료 | 20260125_1530 |
| 18.10 | 작업 문서화 | ✅ 완료 | 20260125_1534 |
| 18.11 | 글자 크기 설정 +/- 버튼 추가 | ✅ 완료 | 20260125_2210 |
| 18.12 | 홈 화면 헤더 제거 | ✅ 완료 | 20260125_2212 |
| 18.13 | 추가 작업 문서화 | ✅ 완료 | 20260125_2215 |

### 18단계 성과
- **핵심 해결**: 키보드 출현 시 화면 밀림 문제 완전 해결
- **기술 방식**: 절대 위치(Absolute Positioning) + 동적 높이 계산
- **UX 개선**:
  - 묵상 작성/수정 화면에 헤더 추가
  - 묵상 상세 화면에 수정/삭제/공유 버튼 추가
  - 긴 성경구절 더보기/접기 토글
  - 키보드 외 영역 터치 시 키보드 자동 닫힘
  - 메모 탭 진입 시 목록 화면 우선 표시
  - 글자 크기 설정 +/- 버튼 추가 (에뮬레이터 슬라이더 문제 해결)
  - 홈 화면 불필요한 헤더 제거
- **수정 파일**:
  - src/screens/memo/MemoEditScreen.tsx
  - src/screens/memo/MemoDetailScreen.tsx
  - src/navigation/MemoStack.tsx
  - src/screens/settings/FontSizeScreen.tsx
  - src/screens/home/HomeScreen.tsx
  - app.json
- **문서**:
  - 수정_메모화면UX개선_20260125_1534.md
  - 수정_UI개선_20260125_2215.md

---

## 15. 19단계: AI 분석 결과 영구 저장 + 히스토리 관리 (완료)

| # | 세부 작업 | 상태 | 완료일시 |
|---|----------|------|----------|
| 19.1 | DB 스키마: feedback_data 컬럼 마이그레이션 | ✅ 완료 | 20260131_0900 |
| 19.2 | DB 스키마: ai_analysis_history 테이블 생성 | ✅ 완료 | 20260131_0900 |
| 19.3 | Memo 타입: feedback_data 필드 추가 | ✅ 완료 | 20260131_0905 |
| 19.4 | DB 쿼리: AI 데이터 CRUD 함수 4개 추가 | ✅ 완료 | 20260131_0910 |
| 19.5 | 서비스: 분석 결과 저장/조회 함수 추가 | ✅ 완료 | 20260131_0915 |
| 19.6 | MemoEditScreen: 저장 시 emotion_data 함께 저장 | ✅ 완료 | 20260131_0920 |
| 19.7 | MemoEditScreen: 저장 후 MemoList로 이동 | ✅ 완료 | 20260131_0920 |
| 19.8 | MemoDetailScreen: 저장된 분석 결과 표시 (API 미호출) | ✅ 완료 | 20260131_0930 |
| 19.9 | MemoDetailScreen: 재분석/재피드백 경고 Alert | ✅ 완료 | 20260131_0935 |
| 19.10 | MemoDetailScreen: 히스토리 오버레이 UI | ✅ 완료 | 20260131_0940 |
| 19.11 | MemoDetailScreen: 구절 히스토리 verseId 포맷 수정 | ✅ 완료 | 20260131_0945 |
| 19.12 | MainTabs: 탭 이름 "메모" → "QT" 변경 | ✅ 완료 | 20260131_0950 |
| 19.13 | TypeScript 검증 (신규 에러 없음) | ✅ 완료 | 20260131_0955 |
| 19.14 | APK 빌드 성공 | ✅ 완료 | 20260131_1000 |
| 19.15 | 작업 문서화 | ✅ 완료 | 20260131_1000 |

### 19단계 성과
- **AI 분석 영구 저장**: emotion_data, feedback_data를 DB에 영구 저장
- **히스토리 관리**: ai_analysis_history 테이블로 과거 분석 결과 추적
- **재분석 UX**: 경고 Alert 후 재분석 진행, 이전 결과는 히스토리로 보관
- **묵상 피드백**: `/api/meditation/feedback` API 연동 완료
- **버그 수정**: 구절 히스토리 verseId 포맷 수정 (숫자 → bookId_chapter_verseNum)
- **UX 개선**: 메모 저장 후 QT 목록으로 이동, 탭 이름 변경
- **수정 파일**: 7개
- **EAS Build**: https://expo.dev/accounts/chohk9147/projects/bible-app/builds/0d234610-532b-4bad-a152-d088d217720c
- **문서**: 수정_AI분석결과영구저장_20260131_1000.md

---

## 16. 현재 이슈 (7단계 관련)

### 문제: import.meta 에러
- 에러: Uncaught SyntaxError: Cannot use import.meta outside a module
- 원인: expo-sqlite, expo-secure-store 등 네이티브 모듈이 웹에서 로드 시 에러
- 해결 시도: Platform.OS 조건부 처리, 동적 require() 사용

### 완료된 수정 파일
- database/index.ts (웹 목업 모드)
- crypto.ts (Web Crypto API)
- authService.ts (localStorage)
- shareService.ts (navigator.share)

### 남은 작업
- bibleService.ts, memoService.ts, analyticsService.ts 확인
- 화면 컴포넌트 네이티브 모듈 import 확인

---

## 7. 작업 기록

| # | 일시 (KST) | 단계 | 작업 내용 |
|---|------------|------|----------|
| 1 | 20260101_0900 | 1단계 | 프로젝트 생성 및 의존성 설치 |
| 2 | 20260101_0923 | 2단계 | 폴더 구조 및 핵심 파일 생성 |
| 3 | 20260101_0955 | 3단계 | DatabaseService 구현 |
| 4 | 20260101_1535 | 4단계 | 서비스 레이어 구현 |
| 5 | 20260101_1556 | 5단계 | 화면 컴포넌트 고도화 |
| 6 | 20260101_1810 | 6단계 | 전체 통합 및 검증 |
| 7 | 20260101_2323 | 7단계 | 웹 호환성 작업 (보류) |
| 8 | 20260103_1034 | 8단계 | 안드로이드 에뮬레이터 실행 환경 구성 완료 |
| 9 | 20260103_1150 | 8단계 | gap 스타일 호환성 수정 (8개 파일, margin 방식으로 변환) |
| 10 | 20260103_1210 | 8단계 | 데이터베이스 테이블 누락 수정 (highlights, bookmarks, memo_tag_map 추가) |
| 11 | 20260103_1400 | 9단계 | 전체 성경 데이터 통합 (66권, 31,102절 - 개역한글) |
| 12 | 20260103_1542 | 8단계 | ReadingScreen 헤더 상태바 간섭 수정 (커스텀 헤더 구현) |
| 13 | 20260103_1605 | 8단계 | CustomHeader 컴포넌트 생성 및 전체 화면 적용 (16개 화면, 4개 네비게이션 스택) |
| 14 | 20260103_1700 | 8단계 | 다중 성경 버전 지원 기능 추가 (API 서비스, 다운로드, 버전 선택 화면) |
| 15 | 20260103_1830 | 8단계 | API 응답 형식 파싱 버그 수정 및 지원 버전 확장 (11개 버전, 5개 언어) |
| 16 | 20260103_1918 | 8단계 | APK 빌드 및 실제 폰 설치 성공, 배포 가이드 문서화 |
| 17 | 20260104_0917 | 10단계 | GitHub 저장소 연동 (96개 파일, 24,781줄 푸시) |
| 18 | 20260104_0925 | 11단계 | 버그 리스트 등록 (4건: 검색, 키보드 UI, 다운로드) |
| 19 | 20260104_1111 | 11단계 | 버그 4건 모두 해결 (BUG-001~004), 프로젝트 완료 |
| 20 | 20260104_1302 | 12단계 | 구절별 주석 기능 추가 (인라인 표시, 모달 입력/수정/삭제) |
| 21 | 20260104_1302 | 12단계 | 검색 책 필터 기능 추가 (구약/신약 분류 모달) |
| 22 | 20260106_1211 | 13단계 | 여러 구절 텍스트 선택 기능 추가 (selectable Text 통합) |
| 23 | 20260112 | 14단계 | 범위 선택 하이라이트 기능 추가 (시작절-끝절 선택, 일괄 하이라이트) |
| 24 | 20260119_0728 | 15단계 | 마지막 읽은 위치 저장 기능 추가 (bibleStore persist 미들웨어) |
| 25 | 20260119_0800 | 16단계 | 장 선택 화면 책 변경 기능 추가 (ChapterSelectScreen 수정) |
| 26 | 20260119_2226 | 17단계 | 포트포워딩 설정 (Choco API 포트 변경, 방화벽 설정, 공유기 포트포워딩, BibleApp URL 변경) |
| 27 | 20260125_1534 | 18단계 | 메모 화면 UX 개선 (키보드 이슈 해결, 헤더 추가, 구절 확장, initialRouteName) |
| 28 | 20260125_2215 | 18단계 | UI 개선 (글자 크기 +/- 버튼, 홈 헤더 제거) |
| 29 | 20260129_2155 | 버그수정 | 성경 버전 전환 시 본문 미표시 버그 수정 (ReadingScreen 번들/DB 분기 로직 추가) |
| 30 | 20260129_2201 | 버그수정 | Choco API 접속 테스트 엔드포인트 수정 (/health → /api/health) |
| 31 | 20260131_1000 | 19단계 | AI 분석 결과 영구 저장 + 히스토리 관리 (7개 파일 수정, DB 스키마 확장) |
| 32 | 20260131_1100 | 버그수정 | AI 묵상 피드백 무반응 + 범위 구절 텍스트 누락 + 구절 히스토리 bible_id 하드코딩 수정 (2개 파일) |
| 33 | 20260131_1500 | 버그수정 | AI 피드백 bible_text DB 저장 + bundled 폴백 + QT탭 콤팩트 통계 + 뒤로가기 헤더 + 날짜 절대 형식 (9개 파일) |
| 34 | 20260131_1600 | 버그수정 | 백업 실패 수정 (expo-file-system v19 API) + 통계 콤팩트 UI + 히스토리 뒤로가기 (3개 파일) |

---

## 문서 업데이트 이력

| 날짜 | 버전 | 변경 내용 |
|------|------|----------|
| 2026-01-01 09:28 | v1.0.0 | 최초 WBS 문서 생성 |
| 2026-01-01 18:10 | v1.4.0 | 6단계 완료 (프로젝트 완료) |
| 2026-01-01 23:23 | v1.5.0 | 7단계 추가 (웹 호환성 보류) |
| 2026-01-03 10:34 | v1.6.0 | 8단계 추가 (안드로이드 에뮬레이터 실행) |
| 2026-01-03 11:50 | v1.7.0 | 8단계 gap 스타일 호환성 수정 작업 추가 |
| 2026-01-03 12:10 | v1.8.0 | 8단계 데이터베이스 테이블 누락 수정 추가 |
| 2026-01-03 14:00 | v1.9.0 | 9단계 추가 (전체 성경 데이터 통합 - 66권, 31,102절) |
| 2026-01-03 15:42 | v2.0.0 | 8단계 ReadingScreen 헤더 상태바 간섭 수정 작업 추가 |
| 2026-01-03 16:05 | v2.1.0 | 8단계 CustomHeader 컴포넌트 생성 및 전체 화면 적용 추가 |
| 2026-01-03 17:00 | v2.2.0 | 8단계 다중 성경 버전 지원 기능 추가 |
| 2026-01-03 18:30 | v2.3.0 | 8단계 API 파싱 버그 수정 및 지원 버전 확장 (11개 버전, 5개 언어) |
| 2026-01-03 19:18 | v2.4.0 | 8단계 APK 빌드 및 실제 폰 설치 성공, 배포 가이드 문서화 |
| 2026-01-04 09:17 | v2.5.0 | 10단계 GitHub 저장소 연동 완료 |
| 2026-01-04 09:25 | v2.6.0 | 11단계 버그 수정 추가 (4건), BUG_LIST.md 생성 |
| 2026-01-04 11:11 | v2.7.0 | 11단계 버그 4건 모두 해결 완료, 프로젝트 100% 완료 |
| 2026-01-04 13:02 | v2.8.0 | 12단계 기능 개선 추가 (구절별 주석, 검색 책 필터) |
| 2026-01-06 12:11 | v2.9.0 | 13단계 UX 개선 추가 (여러 구절 텍스트 선택 기능) |
| 2026-01-12 | v3.0.0 | 14단계 범위 선택 하이라이트 기능 추가 (시작절-끝절 선택, 일괄 하이라이트, Pressable 적용) |
| 2026-01-19 07:28 | v3.1.0 | 15단계 마지막 읽은 위치 저장 기능 추가 (bibleStore persist 미들웨어) |
| 2026-01-19 08:00 | v3.2.0 | 16단계 장 선택 화면 책 변경 기능 추가 (ChapterSelectScreen 수정) |
| 2026-01-19 22:26 | v3.3.0 | 17단계 포트포워딩 설정 추가 (Choco API 포트 변경, 방화벽 설정, 공유기 포트포워딩, BibleApp URL 변경, APK 빌드) |
| 2026-01-25 15:34 | v3.4.0 | 18단계 메모 화면 UX 개선 추가 (키보드 이슈 해결, 헤더 추가, 구절 확장, initialRouteName) |
| 2026-01-25 22:15 | v3.5.0 | 18단계 UI 개선 추가 (글자 크기 +/- 버튼, 홈 화면 헤더 제거) |
| 2026-01-29 21:55 | v3.6.0 | 버그 수정: 성경 버전 전환 시 본문 미표시 (ReadingScreen 번들/DB 분기) |
| 2026-01-29 22:01 | v3.7.0 | 버그 수정: Choco API 접속 테스트 엔드포인트 수정 (/health → /api/health) |
| 2026-01-31 10:00 | v3.8.0 | 19단계 AI 분석 결과 영구 저장 + 히스토리 관리 (DB 스키마 확장, 7개 파일 수정) |
| 2026-01-31 11:00 | v3.9.0 | 버그 수정: AI 묵상 피드백 무반응, 범위 구절 텍스트 누락, 구절 히스토리 bible_id 하드코딩 수정 |
| 2026-01-31 15:00 | v4.0.0 | 버그 수정: AI 피드백 bible_text DB 저장 + bundled 폴백 3중 체인 + QT탭 콤팩트 통계 + Analytics 뒤로가기 + 날짜 절대 형식 (9개 파일) |
| 2026-01-31 16:00 | v4.1.0 | 버그 수정: 백업 실패 (expo-file-system v19 API 변경) + 통계 콤팩트 UI + 히스토리 뒤로가기 (3개 파일) |
