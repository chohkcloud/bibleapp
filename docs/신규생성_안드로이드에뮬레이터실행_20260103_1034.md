# 안드로이드 에뮬레이터 실행 설정

> Android Studio 설치 및 에뮬레이터를 통한 BibleApp 실행 환경 구성

---

## 문서 정보

| 항목 | 내용 |
|------|------|
| 문서명 | 신규생성_안드로이드에뮬레이터실행_20260103_1034.md |
| 카테고리 | 신규생성 |
| 생성일시 | 2026-01-03 10:34 KST |
| 작성자 | Claude Code |
| 버전 | v1.0.0 |
| 위치 | C:/claude/claudeproject/bibleapp/docs/신규생성_안드로이드에뮬레이터실행_20260103_1034.md |

---

## 목차

1. [작업 개요](#1-작업-개요)
2. [환경 설정](#2-환경-설정)
3. [수정된 파일](#3-수정된-파일)
4. [실행 방법](#4-실행-방법)
5. [해결된 이슈](#5-해결된-이슈)

---

## 1. 작업 개요

### 작업 목적
- 웹 환경 대신 안드로이드 에뮬레이터에서 BibleApp 실행
- Android Studio 및 SDK 환경 구성
- expo-file-system deprecated API 문제 해결

### 작업 결과
- Android Studio 2025.2.2.8 설치 완료
- Pixel_6 에뮬레이터에서 앱 정상 실행
- DatabaseService 초기화 성공

---

## 2. 환경 설정

### 2.1 Android Studio 설치

| 항목 | 내용 |
|------|------|
| 버전 | Android Studio 2025.2.2.8 |
| 설치 경로 | C:\Program Files\Android\Android Studio |
| SDK 경로 | C:\Users\miro\AppData\Local\Android\Sdk |

### 2.2 Android SDK 구성

```
C:\Users\miro\AppData\Local\Android\Sdk\
├── build-tools/
├── emulator/
├── extras/
├── licenses/
├── platform-tools/
├── platforms/
├── skins/
├── sources/
└── system-images/
```

### 2.3 에뮬레이터 목록

| 에뮬레이터 | 상태 |
|-----------|------|
| Pixel_6 | 사용 중 |
| Medium_Phone_API_36.1 | 사용 가능 |

---

## 3. 수정된 파일

### 3.1 database/index.ts

**문제**: expo-file-system의 `getInfoAsync` 메서드가 deprecated

**수정 전**:
```typescript
const FileSystem = require('expo-file-system');
```

**수정 후**:
```typescript
const FileSystem = require('expo-file-system/legacy');
```

**파일 위치**: `src/services/database/index.ts:37`

---

## 4. 실행 방법

### 4.1 에뮬레이터 시작

```powershell
# 에뮬레이터 목록 확인
& 'C:\Users\miro\AppData\Local\Android\Sdk\emulator\emulator.exe' -list-avds

# Pixel_6 에뮬레이터 시작
Start-Process 'C:\Users\miro\AppData\Local\Android\Sdk\emulator\emulator.exe' -ArgumentList '-avd', 'Pixel_6'
```

### 4.2 ADB 포트 포워딩 설정

```powershell
# 에뮬레이터 연결 확인
& 'C:\Users\miro\AppData\Local\Android\Sdk\platform-tools\adb.exe' devices

# 포트 포워딩 (필수)
& 'C:\Users\miro\AppData\Local\Android\Sdk\platform-tools\adb.exe' reverse tcp:8081 tcp:8081
```

### 4.3 Expo 앱 실행

```bash
cd C:/claude/claudeproject/bibleapp/bible-app
set ANDROID_HOME=C:\Users\miro\AppData\Local\Android\Sdk
npx expo start --android --clear
```

### 4.4 앱 수동 로드 (필요시)

```powershell
# localhost로 Expo 앱 열기
& 'C:\Users\miro\AppData\Local\Android\Sdk\platform-tools\adb.exe' shell am start -a android.intent.action.VIEW -d 'exp://localhost:8081'
```

---

## 5. 해결된 이슈

### 5.1 expo-file-system deprecated API 에러

**에러 메시지**:
```
ERROR  [DatabaseService] 초기화 실패: [Error: Method getInfoAsync imported from "expo-file-system" is deprecated.
You can migrate to the new filesystem API using "File" and "Directory" classes or import the legacy API from "expo-file-system/legacy".
```

**원인**: Expo SDK 54에서 expo-file-system API 변경

**해결**: `expo-file-system/legacy` 모듈 사용

### 5.2 에뮬레이터 네트워크 연결 문제

**증상**: 앱이 흰 화면에서 로딩 스피너만 표시

**원인**: 에뮬레이터와 호스트 간 네트워크 연결 문제

**해결**: ADB reverse 포트 포워딩 설정
```powershell
adb reverse tcp:8081 tcp:8081
```

---

## 6. 실행 로그

```
Starting project at C:\claude\claudeproject\bibleapp\bible-app
Starting Metro Bundler
› Opening exp://192.168.219.186:8081 on Pixel_6
Waiting on http://localhost:8081
Logs for your project will appear below.
Android Bundled 1714ms index.ts (1133 modules)
LOG  [DatabaseService] 초기화 완료
```

---

## 관련 문서

- [bibleapp_WBS.md](./bibleapp_WBS.md) - 작업 일정 관리
- [디버그_웹호환성작업_20260101_2323.md](./디버그_웹호환성작업_20260101_2323.md) - 이전 웹 호환성 작업

---

## 향후 작업

1. 안드로이드 환경에서 전체 기능 테스트
2. 화면 UI/UX 검증
3. 성능 최적화 확인
